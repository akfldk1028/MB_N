# Repository Guidelines
## Project Structure & Module Organization
This Unity 6000.0.56f1 project keeps gameplay code under `Assets/@Scripts`, split into `Managers`, `Network`, `UI`, `Data`, and scene-specific helpers; reuse these folders when adding systems to keep feature boundaries clear. Scene assets live in `Assets/@Scenes` for production content and `Assets/Scenes` for prototypes. Shared prefabs, materials, CSV sources, and generated JSON are under `Assets/@Resources`, with addressable configurations in `Assets/AddressableAssetsData`. Rendering, input, and package settings sit in `Assets/Settings` and `ProjectSettings/`, so changes there should be reviewed together in PRs.

## Build, Test, and Development Commands
Run day-to-day playtests directly in the Unity editor 6000.0.56f1. For batch automation, use:
- `Unity.exe -projectPath "%CD%" -quit -batchmode -executeMethod DataTransformer.ParseExcelDataToJson` to regenerate JSON from the CSV sheets.
- `Unity.exe -projectPath "%CD%" -quit -batchmode -executeMethod DataTransformer.RemoveSaveData` to clear local saves.
- `Unity.exe -projectPath "%CD%" -quit -batchmode -buildWindows64Player Builds/MB.exe` when producing a Windows build (set targets in Build Settings first).
Open `MB.sln` with Rider or Visual Studio for C# editing; the csproj files are regenerated by Unity, so avoid hand edits.

## Coding Style & Naming Conventions
Follow Unity C# defaults: 4-space indentation, braces on new lines, `PascalCase` for classes, `camelCase` for fields, and `ALL_CAPS` only for constants. Group scripts by domain folder and keep MonoBehaviours named after their primary responsibility (e.g. `LobbyStateController`). Use serialized field attributes rather than public fields for inspector exposure. Run Rider/ReSharper formatting or `Ctrl+K, Ctrl+D` in Visual Studio before committing.

## Testing Guidelines
Adopt the Unity Test Framework (`com.unity.test-framework`): place EditMode tests in `Assets/Tests/EditMode` and PlayMode tests in `Assets/Tests/PlayMode`. Execute locally via the Test Runner window, or via CLI `Unity.exe -projectPath "%CD%" -quit -batchmode -runTests -testPlatform PlayMode`. Aim for coverage over critical combat, lobby, and networking flows; mock addressables where possible.

## Commit & Pull Request Guidelines
The repository is distributed without history, so standardize on Conventional Commits (`feat:`, `fix:`, `refactor:`) for clarity and changelog tooling. Commits should be scoped to a single feature or bugfix and reference Jira/issue IDs when available. PRs need a short summary, testing notes (commands run, platforms checked), relevant screenshots or gifs for UI changes, and updated documentation links if addressables, data formats, or settings moved.

## Data & Addressables Workflow
When changing CSV sources in `Assets/@Resources/Data/ExcelData`, rerun the DataTransformer to keep JSON in sync and commit both CSV and generated files. Addressable entries live in `Assets/AddressableAssetsData/AssetGroups`; duplicate existing labels and profiles when adding new content to avoid breaking remote bundles. Reviewers should spot-check that remote group paths and build profiles stay aligned with the deployment environment.
